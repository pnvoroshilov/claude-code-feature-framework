{
  "name": "Memory Conversation Capture",
  "description": "Automatically captures all conversation messages to project memory for context persistence",
  "category": "memory",
  "hook_config": {
    "PostToolUse": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "mcp",
            "tool": "save_conversation_message",
            "params": {
              "message_type": "assistant",
              "content": "$TOOL_OUTPUT"
            }
          }
        ]
      }
    ],
    "PreUserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "mcp",
            "tool": "save_conversation_message",
            "params": {
              "message_type": "user",
              "content": "$USER_INPUT"
            }
          }
        ]
      }
    ]
  },
  "setup_instructions": "This hook automatically captures all conversation messages to the project memory database. Context loading is handled via CLAUDE.md instructions (mandatory MCP call before first response). Requires the ClaudeTask MCP server to be running.",
  "dependencies": ["claudetask-mcp"]
}